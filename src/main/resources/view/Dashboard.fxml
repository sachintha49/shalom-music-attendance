<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane fx:controller="controller.DashboardController"
            xmlns:fx="http://javafx.com/fxml"
            prefWidth="1400" prefHeight="850"
            style="-fx-background-color: #F5F6FA;">

    <!-- ================= TOP NAV BAR ================= -->
    <top>
        <HBox spacing="20" style="-fx-background-color:#ffffff; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.08), 8, 0, 0, 2);">
            <padding>
                <Insets top="15" bottom="15" left="25" right="25"/>
            </padding>
            <children>
                <Label text="Shalom Music School"
                       style="-fx-font-size:24px; -fx-font-weight:bold; -fx-text-fill:#2C3E50;"/>
                <Pane HBox.hgrow="ALWAYS"/>
                <Label text="Admin" style="-fx-font-size:16; -fx-text-fill:#2C3E50;"/>
                <ImageView fitWidth="42" fitHeight="42" pickOnBounds="true" preserveRatio="true">
                    <image>
                        <Image url="@../images/user.png"/>
                    </image>
                </ImageView>
            </children>
        </HBox>
    </top>

    <!-- ================= LEFT SIDEBAR ================= -->
    <left>
        <VBox spacing="15" prefWidth="270"
              style="-fx-background-color:#1E1E2F;">
            <padding>
                <Insets top="25" right="25" bottom="25" left="25"/>
            </padding>
            <children>
                <Label text="MENU"
                       style="-fx-font-size:14; -fx-text-fill:#8A8FA4; -fx-font-weight:bold;" />
                <Button fx:id="btnDashboard" text="Dashboard"
                        style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF;
                               -fx-font-size:16; -fx-alignment:CENTER_LEFT;"
                        prefHeight="45" maxWidth="Infinity"/>
                <Button fx:id="btnStudents" text="Students"
                        style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF;
                               -fx-font-size:16; -fx-alignment:CENTER_LEFT;"
                        prefHeight="45" maxWidth="Infinity"/>
                <Button fx:id="btnAttendance" text="Attendance"
                        style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF;
                               -fx-font-size:16; -fx-alignment:CENTER_LEFT;"
                        prefHeight="45" maxWidth="Infinity"/>
                <Button fx:id="btnPayments" text="Payments"
                        style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF;
                               -fx-font-size:16; -fx-alignment:CENTER_LEFT;"
                        prefHeight="45" maxWidth="Infinity"/>
                <Button fx:id="btnSchedule" text="Class Schedule"
                        style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF;
                               -fx-font-size:16; -fx-alignment:CENTER_LEFT;"
                        prefHeight="45" maxWidth="Infinity"/>
                <Button fx:id="btnReports" text="Reports"
                        style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF;
                               -fx-font-size:16; -fx-alignment:CENTER_LEFT;"
                        prefHeight="45" maxWidth="Infinity"/>
                <Button fx:id="btnWhatsapp" text="WhatsApp Messaging"
                        style="-fx-background-color: transparent; -fx-text-fill: #FFFFFF;
                               -fx-font-size:16; -fx-alignment:CENTER_LEFT;"
                        prefHeight="45" maxWidth="Infinity"/>
                <Pane VBox.vgrow="ALWAYS"/>
                <Button fx:id="btnLogout" text="Logout"
                        style="-fx-background-color:#C0392B; -fx-text-fill:white;
                               -fx-font-size:16; -fx-background-radius:8;"
                        prefHeight="45" maxWidth="Infinity"/>
            </children>
        </VBox>
    </left>

    <!-- ================= MAIN CONTENT ================= -->
    <center>
        <ScrollPane fitToWidth="true" style="-fx-background-color:transparent;">
            <content>
                <VBox spacing="30">
                    <padding>
                        <Insets top="30" right="30" bottom="30" left="30"/>
                    </padding>

                    <!-- Dashboard Title -->
                    <Label text="Dashboard Overview"
                           style="-fx-font-size:28; -fx-font-weight:bold; -fx-text-fill:#2C3E50;"/>

                    <!-- ======= STAT CARDS (4 panels) ======= -->
                    <HBox spacing="30">
                        <VBox spacing="10" alignment="CENTER"
                              prefWidth="280" prefHeight="150"
                              style="-fx-background-color:white; -fx-background-radius:12;
                                     -fx-padding:25;
                                     -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.12), 12, 0, 0, 4);">
                            <Label text="Total Students" style="-fx-font-size:18; -fx-text-fill:#2C3E50;"/>
                            <Label fx:id="lblTotalStudents" text="50"
                                   style="-fx-font-size:32; -fx-font-weight:bold;"/>
                        </VBox>
                        <VBox spacing="10" alignment="CENTER"
                              prefWidth="280" prefHeight="150"
                              style="-fx-background-color:white; -fx-background-radius:12;
                                     -fx-padding:25;
                                     -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.12), 12, 0, 0, 4);">
                            <Label text="Todayâ€™s Attendance" style="-fx-font-size:18; -fx-text-fill:#2C3E50;"/>
                            <Label fx:id="lblTodayAttendance" text="32"
                                   style="-fx-font-size:32; -fx-font-weight:bold;"/>
                        </VBox>
                        <VBox spacing="10" alignment="CENTER"
                              prefWidth="280" prefHeight="150"
                              style="-fx-background-color:white; -fx-background-radius:12;
                                     -fx-padding:25;
                                     -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.12), 12, 0, 0, 4);">
                            <Label text="Pending Payments"
                                   style="-fx-font-size:18; -fx-text-fill:#2C3E50;"/>
                            <Label fx:id="lblPending" text="12"
                                   style="-fx-font-size:32; -fx-font-weight:bold;"/>
                        </VBox>
                        <VBox spacing="10" alignment="CENTER"
                              prefWidth="280" prefHeight="150"
                              style="-fx-background-color:white; -fx-background-radius:12;
                                     -fx-padding:25;
                                     -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.12), 12, 0, 0, 4);">
                            <Label text="Upcoming Classes"
                                   style="-fx-font-size:18; -fx-text-fill:#2C3E50;"/>
                            <Label fx:id="lblUpcomingClasses" text="5"
                                   style="-fx-font-size:32; -fx-font-weight:bold;"/>
                        </VBox>
                    </HBox>

                    <!-- Placeholder for loading pages -->
                    <StackPane fx:id="contentArea"
                               style="-fx-background-color:white; -fx-background-radius:12;
                                      -fx-padding:20;
                                      -fx-effect:dropshadow(gaussian, rgba(0,0,0,0.12), 12, 0, 0, 4);"
                               prefHeight="500">
                        <Label text="Select an item from the menu"
                               style="-fx-font-size:20; -fx-text-fill:#7F8C8D;"/>
                    </StackPane>

                </VBox>
            </content>
        </ScrollPane>
    </center>

</BorderPane>
